<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<title>コーポラティブハウスの実績 アーカイブ | コーポラティブハウス・自由設計のポータルサイト｜コプラス</title>
<style>
#gmap{
    width:687px;
    height:390px;
}
</style>
</head>
<body>

<div id="gmap" >aaaa<br><br><br><br></div>

<script>
    function initMap() {
        const location = { lat: 35.65833, lng: 139.64215 };
        const map = new google.maps.Map(document.getElementById('gmap'), {
            zoom: 16,
            center: location,
            minZoom: 13,
            maxZoom: 18
        });

        // ズームレベルに応じたピンサイズを計算する関数
        function calculatePinSize(zoomLevel) {
            const baseSize = 96; // 基準となるサイズ
            const scale = Math.pow(2.18, zoomLevel - 16); // 16をベースにスケールを計算
            return Math.round(baseSize * scale);
        }

        // マーカーを作成
        const marker = new google.maps.Marker({
            position: location,
            map: map,
            icon: {
                url: '/setagayaakatsutsumi_ch/assets/img/common/gmap_pin.webp',
                scaledSize: new google.maps.Size(96, 96),
                anchor: new google.maps.Point(48, 48)
            }
        });

        // ズーム変更時のイベントリスナー
        map.addListener('zoom_changed', () => {
            const currentZoom = map.getZoom();
            const newSize = calculatePinSize(currentZoom);
            const anchor = newSize / 2;
            
            marker.setIcon({
                url: '/setagayaakatsutsumi_ch/assets/img/common/gmap_pin.webp',
                scaledSize: new google.maps.Size(newSize, newSize),
                anchor: new google.maps.Point(anchor, anchor)
            });
        });
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCUhVDUQZmDc_InQxsFiaT0LB-aXiU0Sts&callback=initMap"></script>
</body>
</html>